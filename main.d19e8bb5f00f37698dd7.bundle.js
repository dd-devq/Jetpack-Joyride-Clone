(()=>{"use strict";var t,e={241:(t,e,s)=>{var i=s(260),a=s.n(i);const n={type:Phaser.AUTO,width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:700},debug:!1,fps:60}},pixelArt:!0};var o;!function(t){t.BOOT="GameBoot",t.MENU="MainMenu",t.SHOP="Shop",t.GAMEPLAY="Gameplay",t.GAMEOVER="Gameover",t.GAMEPAUSE="GamePause"}(o||(o={}));const h="SunLogo",r="assets\\Logo.png",l="GameLogo",c="assets\\sprites\\Logo.png",p="Background",d="assets\\sprites\\BackdropMain.png",g="Bullet",u="assets\\sprites\\Bullet.png",y="BulletCollision",m="assets\\sprites\\BulletCollision.png",P="ButtonBack",S="assets\\sprites\\ButtonBack.png",v="ButtonBuy",x="assets\\sprites\\ButtonBuy.png",k="ButtonCreadits",w="assets\\sprites\\ButtonCredits.png",f="ButtonMusicOff",A="assets\\sprites\\ButtonMusicOff.png",b="ButtonMusicOn",B="assets\\sprites\\ButtonMusicOn.png",O="ButtonPlayAgain",E="assets\\ButtonPlayAgain.png",C="ButtonPlayGame",M="assets\\sprites\\ButtonPlayGame.png",G="ButtonQuit",U="assets\\sprites\\ButtonQuit.png",D="ButtonSelect",I="assets\\sprites\\ButtonSelect.png",F="ButtonShop",L="assets\\sprites\\ButtonShop.png",T="ButtonShopDeadScreen",K="assets\\sprites\\ButtonShopDeathScreen.png",j="ButtonSoundOff",R="assets\\sprites\\ButtonSoundOff.png",H="ButtonSoundOn",N="assets\\sprites\\ButtonSoundOn.png",z="Coin",Y="assets\\sprites\\Coin.png",V="FlyFire",_="assets\\sprites\\FlyFire.png",Z="FlyFire2",W="assets\\sprites\\FlyFire2.png",J="icon",q="assets\\sprites\\icon.png",Q="logoGlow",X="assets\\sprites\\logoGlow.png",$="LogoSmall",tt="assets\\sprites\\LogoSmall.png",et="Menu",st="assets\\sprites\\Menu.png",it="PlayerDead",at="assets\\sprites\\PlayerDead.png",nt="PlayerFly",ot="assets\\sprites\\PlayerFly.png",ht="Rocket",rt="assets\\sprites\\Rocket.png",lt="RocketWarning",ct="assets\\sprites\\RocketWarning.png",pt="SoundOff",dt="assets\\sprites\\SoundOff.png",gt="SoundOn",ut="assets\\sprites\\SoundOn.png",yt="SplashArt",mt="assets\\sprites\\SplashArt.png",Pt="Zapper1",St="assets\\sprites\\Zapper1.png",vt="Zapper2",xt="assets\\sprites\\Zapper2.png",kt="Zapper3",wt="assets\\sprites\\Zapper3.png",ft="Zapper4",At="assets\\sprites\\Zapper4.png",bt="Ground",Bt="assets\\sprites\\platform.png",Ot="playerGreen",Et="assets\\sprites\\skins\\PlayerFly_Green.png",Ct="playerOrange",Mt="assets\\sprites\\skins\\PlayerFly_Orange.png",Gt="playerPerry",Ut="assets\\sprites\\skins\\PlayerFly_Perry.png",Dt="playerPink",It="assets\\sprites\\skins\\PlayerFly_Pink.png",Ft="playerRed",Lt="assets\\sprites\\skins\\PlayerFly_Red.png",Tt="playerYellow",Kt="assets\\sprites\\skins\\PlayerFly_Yellow.png",jt="terrain",Rt="assets\\Terrain\\Terrain.png",Ht="base-background-brown",Nt="assets\\Background\\Brown.png",zt="base-background-blue",Yt="assets\\Background\\Blue.png",Vt="base-background-gray",_t="assets\\Background\\Gray.png",Zt="base-background-green",Wt="assets\\Background\\Green.png",Jt="base-background-pink",qt="assets\\Background\\Pink.png",Qt="base-background-purple",Xt="assets\\Background\\Purple.png",$t="base-background-yellow",te="assets\\Background\\Yellow.png",ee="Gameplay",se="assets\\sounds\\Gameplay.wav",ie="MainMenu",ae="assets\\sounds\\MainMenu.wav",ne="Die",oe="assets\\sounds\\DiedEletricity.wav",he="Fly",re="assets\\sounds\\FlyTest.wav",le="Launch",ce="assets\\sounds\\Launch.wav",pe="Coin",de="assets\\sounds\\right.wav",ge="Wrong",ue="Body",ye="assets\\Characters\\Barry\\defaultBody.png",me="Head",Pe="assets\\Characters\\Barry\\defaultHead.png",Se="zapper",ve="CoinPattern1",xe="assets\\patterns\\coinPattern1.txt",ke="CoinPattern2",we="assets\\patterns\\coinPattern2.txt",fe="CoinPattern3",Ae="assets\\patterns\\coinPattern3.txt",be="CoinPattern4",Be="assets\\patterns\\coinPattern4.txt",Oe="CoinPattern5",Ee="assets\\patterns\\coinPattern5.txt",Ce="CoinPattern6",Me="assets\\patterns\\coinPattern6.txt",Ge="CoinPattern7",Ue="assets\\patterns\\coinPattern7.txt",De="CoinPattern8",Ie="assets\\patterns\\coinPattern8.txt",Fe="CoinPattern9",Le="assets\\patterns\\coinPattern9.txt",Te="CoinPattern10",Ke="assets\\patterns\\coinPattern10.txt",je="CoinPattern11",Re="assets\\patterns\\coinPattern11.txt",He="CoinPattern12",Ne="assets\\patterns\\coinPattern12.txt",ze="CoinPattern13",Ye="assets\\patterns\\coinPattern13.txt",Ve="CoinPattern14",_e="assets\\patterns\\coinPattern14.txt",Ze="CoinPattern15",We="assets\\patterns\\coinPattern15.txt",Je="CoinPattern16",qe="assets\\patterns\\coinPattern16.txt",Qe="CoinPattern17",Xe="assets\\patterns\\coinPattern17.txt",$e="CoinPattern18",ts="assets\\patterns\\coinPattern18.txt",es="CoinPattern19",ss="assets\\patterns\\coinPattern19.txt",is="CoinPattern20",as="assets\\patterns\\coinPattern20.txt",ns="CoinPattern21",os="assets\\patterns\\coinPattern21.txt",hs="CoinPattern22",rs="assets\\patterns\\coinPattern22.txt",ls="CoinPattern23",cs="assets\\patterns\\coinPattern23.txt",ps="CoinPattern24",ds="assets\\patterns\\coinPattern24.txt",gs="CoinPattern25",us="assets\\patterns\\coinPattern25.txt",ys="CoinPattern26",ms="assets\\patterns\\coinPattern26.txt",Ps="CoinPattern27",Ss="assets\\patterns\\coinPattern27.txt";class vs extends Phaser.Scene{preload(){this.load.image("splash","assets\\Splash\\loading_screen.png")}create(){if(localStorage.getItem("coins")||localStorage.setItem("coins","0"),localStorage.getItem("skin")||localStorage.setItem("skin",nt),!localStorage.getItem("playerData")){const t={default:{key:nt,isUnlocked:!0,isUsed:!0,price:200},green:{key:Ot,isUnlocked:!1,isUsed:!1,price:200},pink:{key:Dt,isUnlocked:!1,isUsed:!1,price:200},red:{key:Ft,isUnlocked:!1,isUsed:!1,price:200},orange:{key:Ct,isUnlocked:!1,isUsed:!1,price:200},yellow:{key:Tt,isUnlocked:!1,isUsed:!1,price:200},perry:{key:Gt,isUnlocked:!1,isUsed:!1,price:200}};localStorage.setItem("playerData",JSON.stringify(t,null))}const t=this.add.image(this.game.canvas.width/2,this.game.canvas.height/2,"splash");t.setScale(this.scale.canvas.width/t.width,this.scale.canvas.height/t.height).setOrigin(.5);const e=750,s=this.add.graphics(),i=this.add.graphics();i.fillStyle(0,1),i.fillRect((this.scale.canvas.width-e)/2,(this.scale.canvas.height-20)/1.15,e,20),this.load.on("progress",(t=>{s.clear(),s.fillStyle(16250871,1),s.fillRect((this.scale.canvas.width-e)/2,(this.scale.canvas.height-20)/1.15,e*t,20).setDepth(8)})),this.load.on("complete",(()=>{s.destroy(),i.destroy(),this.scene.start(o.MENU)})),this.loadAsset(),this.load.start()}loadAsset(){this.load.spritesheet(me,Pe,{frameWidth:32,frameHeight:32}),this.load.spritesheet(ue,ye,{frameWidth:32,frameHeight:32}),this.load.image(h,r),this.load.image(l,c),this.load.image(p,d),this.load.image(g,u),this.load.image(y,m),this.load.image(P,S),this.load.image(v,x),this.load.image(k,w),this.load.image(f,A),this.load.image(b,B),this.load.image(O,E),this.load.image(C,M),this.load.image(G,U),this.load.image(D,I),this.load.image(F,L),this.load.image(T,K),this.load.image(j,R),this.load.image(H,N),this.load.image(z,Y),this.load.image(V,_),this.load.image(Z,W),this.load.image(J,q),this.load.image(Q,X),this.load.image($,tt),this.load.image(et,st),this.load.image(it,at),this.load.image(nt,ot),this.load.image(ht,rt),this.load.image(lt,ct),this.load.image(pt,dt),this.load.image(gt,ut),this.load.image(yt,mt),this.load.image(Pt,St),this.load.image(vt,xt),this.load.image(kt,wt),this.load.image(ft,At),this.load.image(bt,Bt),this.load.image(Ot,Et),this.load.image(Ct,Mt),this.load.image(Gt,Ut),this.load.image(Dt,It),this.load.image(Ft,Lt),this.load.image(Tt,Kt),this.load.audio(le,ce),this.load.audio(pe,de),this.load.audio(ne,oe),this.load.audio(he,re),this.load.audio(ee,se),this.load.audio(ie,ae),this.load.text(ve,xe),this.load.text(ke,we),this.load.text(fe,Ae),this.load.text(be,Be),this.load.text(Oe,Ee),this.load.text(Ce,Me),this.load.text(Ge,Ue),this.load.text(De,Ie),this.load.text(Fe,Le),this.load.text(Te,Ke),this.load.text(je,Re),this.load.text(He,Ne),this.load.text(ze,Ye),this.load.text(Ve,_e),this.load.text(Ze,We),this.load.text(Je,qe),this.load.text(Qe,Xe),this.load.text($e,ts),this.load.text(es,ss),this.load.text(is,as),this.load.text(ns,os),this.load.text(hs,rs),this.load.text(ls,cs),this.load.text(ps,ds),this.load.text(gs,us),this.load.text(ys,ms),this.load.text(Ps,Ss),this.load.image(jt,Rt),this.load.image(Ht,Nt),this.load.image(zt,Yt),this.load.image(Vt,_t),this.load.image(Zt,Wt),this.load.image(Qt,Xt),this.load.image($t,te),this.load.image(Jt,qt)}}class xs extends Phaser.GameObjects.Container{constructor(t,e,s,i,a,n,o,h){super(t,e,s),this.callback=h,this.isPointerDown=!1,this.isPointerOver=!1,o?this.text=this.scene.add.text(e,s,n).setOrigin(.5).setDepth(8):this.sprite=this.scene.add.nineslice(e,s,n,void 0,i,a,10,10).setDisplaySize(i,a).setDepth(8),this.background=this.scene.add.rectangle(e,s,i,a,0,0).setDisplaySize(i,a).setSize(i,a).setOrigin(.5),this.setInteractive(new Phaser.Geom.Rectangle(-i/2,-a/2,i,a),Phaser.Geom.Rectangle.Contains),this.on("pointerdown",this.onButtonDown,this),this.on("pointerup",this.onButtonUp,this),this.on("pointerover",this.onButtonOver,this),this.on("pointerout",this.onButtonOut,this),t.add.existing(this)}onButtonDown(){this.isPointerDown=!0}onButtonUp(){this.isPointerDown&&(this.isPointerDown=!1,this.callback())}onButtonOver(){this.isPointerOver=!0}onButtonOut(){this.isPointerOver=!1}}class ks extends Phaser.Scene{init(t){const e=localStorage.getItem("coins");if(e){const s=parseInt(e)+t.coins;localStorage.setItem("coins",s.toString())}}create(){var t;this.spaceKey=null===(t=this.input.keyboard)||void 0===t?void 0:t.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.graphics=this.add.graphics(),this.graphics.fillStyle(0).setAlpha(.75),this.graphics.fillRect(0,0,this.scale.canvas.width,this.scale.canvas.height),this.graphics.setVisible(!0),this.gameLogo=this.add.image(this.scale.canvas.width/2,this.scale.canvas.height/3.5,Q),this.playAgainButton=new xs(this,this.scale.canvas.width/2,this.scale.canvas.height/2,250,50,O,!1,(()=>{this.scene.stop(o.GAMEPLAY),this.scene.start(o.GAMEPLAY)})),this.quitButton=new xs(this,this.scale.canvas.width/2,this.scale.canvas.height/1.75,250,50,G,!1,(()=>{this.scene.stop(o.GAMEPLAY),this.scene.start(o.MENU)}))}update(){var t;(null===(t=this.spaceKey)||void 0===t?void 0:t.isDown)&&(this.scene.stop(o.GAMEPLAY),this.scene.start(o.MENU))}}class ws{constructor(){this.data=[]}push(t){this.data.push(t)}pop(){return this.data.pop()}top(){return this.data[this.data.length-1]}length(){return this.data.length}}class fs extends Phaser.Physics.Arcade.Group{constructor(t){super(t.physics.world,t,{classType:As,maxSize:1e4})}spawn(t,e){const s=this.get(t,e);s.setActive(!0).setVisible(!0).setDepth(10).setScale(2).setVelocityY(500),null!==s.body&&(s.body.enable=!0,s.body.x=t,s.body.y=e,s.setSize(s.width,s.height))}despawn(t){t.play("explode",!0),null!==t.body&&(t.body.enable=!1),this.killAndHide(t)}}class As extends Phaser.Physics.Arcade.Sprite{constructor(t,e,s){super(t,e,s,Pt),this.setOrigin(0),this.setScrollFactor(0),this.scene.anims.exists("bullet")||this.scene.anims.create({key:"bullet",frames:[{key:g}],frameRate:10,repeat:0}),this.scene.anims.exists("explode")||this.scene.anims.create({key:"explode",frames:[{key:y}],frameRate:10,repeat:0}),this.play("bullet",!0)}}class bs extends Phaser.GameObjects.Sprite{constructor(t,e,s){super(t,e,s,V),this.scene.anims.exists("flyFire")||this.scene.anims.create({key:"flyFire",frames:[{key:V},{key:Z}],frameRate:10,repeat:-1}),this.anims.play("flyFire",!0),this.scene.add.existing(this)}}class Bs{constructor(){this.nowPlaying=[]}playAudio(t,e,s=!1,i=1){t.sound.add(e,{loop:s,volume:i}),t.sound.play(e),this.nowPlaying.push(e)}stopAudio(t,e){t.sound.getAllPlaying().forEach((t=>{t.key===e&&t.stop()}))}stopAllAudio(t){t.sound.getAllPlaying().forEach((t=>{t.stop()}))}muteAudio(t){t.game.sound.mute=!0}unmuteAudio(t){t.game.sound.mute=!1}static getInstance(){return Bs.instance||(Bs.instance=new Bs),Bs.instance}}class Os{constructor(t){this.parent=t}}class Es extends Os{constructor(t){super(t)}Enter(){this.parent.flyFire.setActive(!1).setVisible(!1)}Update(){var t;((null===(t=this.parent.spaceKey)||void 0===t?void 0:t.isDown)||this.parent.inputPointer.isDown)&&this.parent.gotoState("Fly")}Exit(){}}class Cs extends Os{constructor(t){super(t),this.jetpackBoost=-100,this.jetpackAcceleration=0,this.maxJetpackAcceleration=-500,this.jetpackAccelerationSpeed=-5,this.counter=0,this.INTERVAL=6}Enter(){this.jetpackAcceleration=0,this.parent.flyFire.setActive(!0).setVisible(!0)}Update(){var t;this.counter+=.5,this.jetpackAcceleration+=this.jetpackAccelerationSpeed,(null===(t=this.parent.spaceKey)||void 0===t?void 0:t.isDown)||this.parent.inputPointer.isDown?(this.boost(),this.counter>this.INTERVAL&&(this.counter=0,this.parent.bulletPool.spawn(this.parent.x-5,this.parent.y+35),Bs.getInstance().playAudio(this.parent.scene,he))):this.parent.gotoState("Fall")}boost(){this.jetpackAcceleration+=this.jetpackAccelerationSpeed,this.jetpackAcceleration<this.maxJetpackAcceleration&&(this.jetpackAcceleration=this.maxJetpackAcceleration),this.parent.setVelocityY(this.jetpackBoost+this.jetpackAcceleration)}Exit(){this.jetpackAcceleration=0,Bs.getInstance().stopAudio(this.parent.scene,he)}}class Ms extends Os{constructor(t){super(t)}Enter(){this.parent.flyFire.setActive(!1).setVisible(!1)}Update(){var t,e;((null===(t=this.parent.spaceKey)||void 0===t?void 0:t.isDown)||this.parent.inputPointer.isDown)&&this.parent.gotoState("Fly"),(null===(e=this.parent.body)||void 0===e?void 0:e.touching.down)&&this.parent.gotoState("Run")}Exit(){}}class Gs extends Os{constructor(t){super(t)}Enter(){this.parent.flyFire.setActive(!1).setVisible(!1),this.parent.setAngle(90)}Update(){}Exit(){}}class Us extends Phaser.Physics.Arcade.Sprite{constructor(t,e,s){var i;let a=localStorage.getItem("skin");null===a&&(a=nt,localStorage.setItem("skin",a)),super(t,e,s,a),this.playerStateStack=new ws,this.playerState=new Map,this.initAsset(),this.initState(),this.flyFire=new bs(this.scene,this.x,this.y).setDepth(10),this.bulletPool=new fs(this.scene),this.scene.add.existing(this),this.scene.physics.world.enable(this),this.setCollideWorldBounds(!0),this.inputPointer=this.scene.input.activePointer;const{SPACE:n}=Phaser.Input.Keyboard.KeyCodes;this.spaceKey=null===(i=this.scene.input.keyboard)||void 0===i?void 0:i.addKey(n)}update(){var t;null===(t=this.playerStateStack.top())||void 0===t||t.Update(),this.x<.75*this.scene.scale.canvas.width/2&&this.entry(),this.flyFire.setPosition(this.x-5,this.y+35)}initAsset(){}initState(){this.playerState.set("Run",new Es(this)),this.playerState.set("Fly",new Cs(this)),this.playerState.set("Fall",new Ms(this)),this.playerState.set("Dead",new Gs(this));const t=this.playerState.get("Run");void 0!==t&&this.playerStateStack.push(t)}gotoState(t){var e,s;this.playerStateStack.length()>1&&(null===(e=this.playerStateStack.top())||void 0===e||e.Exit(),this.playerStateStack.pop());const i=this.playerState.get(t);void 0!==i&&(this.playerStateStack.push(i),null===(s=this.playerStateStack.top())||void 0===s||s.Enter())}entry(){this.gotoState("Fly"),this.x+=5}}class Ds extends Phaser.Physics.Arcade.StaticGroup{constructor(t){super(t.physics.world,t,{classType:Is,maxSize:500}),this.moveSpeed=2,this.maxHeight=100,this.minHeight=300,this.scaleFactor=2,this.coinOffset=30}spawnBunch(){const t=Phaser.Math.Between(2100,2800),e=Phaser.Math.Between(this.maxHeight,this.minHeight),s="CoinPattern"+Phaser.Math.Between(1,27).toString();let i=0,a=0;const n=this.scene.cache.text.get(s).split("\n");for(const s of n){for(const n of s)"1"==n&&this.spawn(t+i,e+a),i+=this.coinOffset;a+=this.coinOffset,i=0}}spawn(t,e){const s=this.get(t,e);s.setActive(!0).setVisible(!0).setDepth(5).setScale(this.scaleFactor),null!==s.body&&(s.body.enable=!0,s.body.x=t,s.body.y=e,s.body.setSize(s.width*this.scaleFactor,s.height*this.scaleFactor))}despawn(t){null!==t.body&&(t.body.enable=!1),this.killAndHide(t)}update(){this.getChildren().forEach((t=>{const e=t;e.x-=this.moveSpeed,null!==e.body&&(e.body.x-=this.moveSpeed),e.x<0&&this.despawn(e)}))}}class Is extends Phaser.Physics.Arcade.Sprite{constructor(t,e,s){super(t,e,s,z),this.setOrigin(0,0),this.setScrollFactor(0)}}class Fs extends Phaser.Physics.Arcade.StaticGroup{constructor(t){super(t.physics.world,t,{classType:Ls,maxSize:50}),this.maxScaleFactor=2,this.moveSpeed=2,this.spawnLocation=[{x:2e3,y:100},{x:2e3,y:250},{x:2e3,y:450},{x:2500,y:100},{x:2500,y:250},{x:2500,y:450},{x:3e3,y:100},{x:3e3,y:250},{x:3e3,y:450}]}spawn(){const t=Phaser.Math.Between(0,8),e=this.spawnLocation[t].x,s=this.spawnLocation[t].y,i=this.get(e,s),a=Phaser.Math.FloatBetween(1.25,this.maxScaleFactor);i.setActive(!0).setVisible(!0).setDepth(7).setScale(a),null!==i.body&&(i.body.enable=!0,i.body.x=e,i.body.y=s,i.setSize(i.width*a,i.height*a))}despawn(t){null!==t.body&&(t.body.enable=!1),this.killAndHide(t)}update(){this.getChildren().forEach((t=>{const e=t;e.x-=this.moveSpeed,null!==e.body&&(e.body.x-=this.moveSpeed),e.x<0&&this.despawn(e)}))}}class Ls extends Phaser.Physics.Arcade.Sprite{constructor(t,e,s){super(t,e,s,Pt),this.setOrigin(0),this.setScrollFactor(0),this.scene.anims.exists(Se)||this.scene.anims.create({key:Se,frames:[{key:Pt},{key:vt},{key:kt},{key:ft}],frameRate:10,repeat:-1}),this.anims.play(Se)}}class Ts{constructor(t){this.coinCount=0,this.isGameOver=!1,this.platforms=[],this.scene=t,this.initCoinPool(),this.initZapperPool(),this.initPlayer(),this.initBackground(),this.scaleGameObejcts(),this.initPhysic()}initPhysic(){this.scene.physics.add.collider(this.platformGroup,this.player),this.scene.physics.add.overlap(this.player,this.coinPool,this.collectCoin,void 0,this),this.scene.physics.add.collider(this.player.bulletPool,this.platformGroup,this.bulletCollide,void 0,this),this.scene.physics.add.overlap(this.player,this.zapperPool,this.gameOver,void 0,this),this.scene.physics.add.overlap(this.coinPool,this.zapperPool,this.respawnZapper,void 0,this)}bulletCollide(t,e){const s=t;this.coinPool.despawn(s),s.destroy()}respawnZapper(t,e){const s=e;for(const t of this.zapperPool.spawnLocation)if(t.x!=s.x&&t.y!=s.y){s.setPosition(t.x,t.y),s.body.x=t.x,s.body.y=t.y;break}}gameOver(){this.isGameOver||(Bs.getInstance().playAudio(this.scene,ne,!1),this.player.gotoState("Dead"),this.scene.gotoState("GameOver"),this.isGameOver=!0)}collectCoin(t,e){Bs.getInstance().playAudio(this.scene,pe,!1);const s=e;this.coinPool.killAndHide(s),s.destroy(),this.coinCount+=1,this.scene.textCoin.setText("Coins: "+this.coinCount)}update(){if(!this.isGameOver){const{width:t,height:e}=this.scene.scale;this.backgroundSprite.tilePositionX+=.5;for(const t of this.platforms)if(t.x-=2.5,t.x+t.width*e/t.height<0){this.platforms.splice(this.platforms.indexOf(t),1),t.destroy();const e=Phaser.Math.Between(1,3);1==e?this.createTileMap1():2==e?this.createTileMap2():this.createTileMap3()}this.coinPool.update(),this.zapperPool.update(),this.player.update()}}initCoinPool(){this.coinPool=new Ds(this.scene),this.coinPool.spawnBunch(),this.scene.time.addEvent({delay:1e4,loop:!0,callback:()=>this.coinPool.spawnBunch()})}initZapperPool(){this.zapperPool=new Fs(this.scene),this.scene.time.addEvent({delay:3e3,loop:!0,callback:()=>this.zapperPool.spawn()})}createTileMap1(){var t;const{width:e,height:s}=this.scene.scale,i=this.scene.make.tilemap({key:"map-1",tileWidth:16,tileHeight:16}),a=i.addTilesetImage("Terrain",jt);if(null!==a){const e=null===(t=i.createLayer("Ground",a,0,0))||void 0===t?void 0:t.setOrigin(0).setDepth(3);void 0!==e&&(e.setScale(s/e.height),0!=this.platforms.length&&(e.x=this.platforms[this.platforms.length-1].x+this.platforms[this.platforms.length-1].width*s/e.height),this.platforms.push(e))}}createTileMap2(){var t;const{width:e,height:s}=this.scene.scale,i=this.scene.make.tilemap({key:"map-2",tileWidth:16,tileHeight:16}),a=i.addTilesetImage("Terrain",jt);if(null!==a){const e=null===(t=i.createLayer("Ground",a,0,0))||void 0===t?void 0:t.setOrigin(0).setDepth(3);void 0!==e&&(e.setScale(s/e.height),0!=this.platforms.length&&(e.x=this.platforms[this.platforms.length-1].x+this.platforms[this.platforms.length-1].width*s/e.height),this.platforms.push(e))}}createTileMap3(){var t;const{width:e,height:s}=this.scene.scale,i=this.scene.make.tilemap({key:"map-3",tileWidth:16,tileHeight:16}),a=i.addTilesetImage("Terrain",jt);if(null!==a){const e=null===(t=i.createLayer("Ground",a,0,0))||void 0===t?void 0:t.setOrigin(0).setDepth(3);void 0!==e&&(e.setScale(s/e.height),0!=this.platforms.length&&(e.x=this.platforms[this.platforms.length-1].x+this.platforms[this.platforms.length-1].width*s/e.height),this.platforms.push(e))}}initBackground(){const{width:t,height:e}=this.scene.scale;this.backgroundSprite=this.scene.add.tileSprite(0,0,t,e,Zt).setOrigin(0).setDepth(3),this.createTileMap1(),this.createTileMap2(),this.createTileMap3(),this.platformGroup=this.scene.physics.add.staticGroup(),this.platformGroup.create(window.innerWidth/2,.9*window.innerHeight,bt).setScale(5,1).refreshBody()}initPlayer(){this.player=new Us(this.scene,0,100).setDepth(10)}scaleGameObejcts(){const t=this.scene.textures.get(p).get(0),e=this.scene.cameras.main.width/t.width,s=this.scene.cameras.main.height/t.height;this.backgroundSprite.setTileScale(e,s)}}class Ks{constructor(t){this.parent=t}}class js extends Ks{constructor(t){super(t)}Enter(){}Update(){var t;(null===(t=this.parent.escKey)||void 0===t?void 0:t.isDown)&&(this.parent.scene.pause(o.GAMEPLAY),this.parent.gotoState("GamePause")),this.parent.gameManager.update()}Exit(){}}class Rs extends Ks{constructor(t){super(t)}Enter(){this.parent.stopAudio(),this.parent.tweens.add({targets:this.parent.cameras.main,alpha:0,duration:2e3,onComplete:()=>{this.parent.scene.pause(o.GAMEPLAY),this.parent.scene.launch(o.GAMEOVER,{coins:this.parent.gameManager.coinCount})}})}Update(){}Exit(){}}class Hs extends Ks{constructor(t){super(t)}Enter(){this.parent.scene.launch(o.GAMEPAUSE)}Update(){this.parent.gotoState(o.GAMEPLAY)}Exit(){}}class Ns extends Phaser.Scene{constructor(){super(...arguments),this.gameplayStack=new ws,this.gameState=new Map}init(){this.gameState.set("Gameplay",new js(this)),this.gameState.set("GamePause",new Hs(this)),this.gameState.set("GameOver",new Rs(this));const t=this.gameState.get("Gameplay");void 0!==t&&this.gameplayStack.push(t)}preload(){this.load.tilemapTiledJSON("map-1","assets\\Map\\Map1.json"),this.load.tilemapTiledJSON("map-2","assets\\Map\\Map2.json"),this.load.tilemapTiledJSON("map-3","assets\\Map\\Map3.json")}create(){var t;this.playAudio();const{ESC:e}=Phaser.Input.Keyboard.KeyCodes;this.escKey=null===(t=this.input.keyboard)||void 0===t?void 0:t.addKey(e),this.gameManager=new Ts(this),this.textCoin=this.add.text(this.scale.canvas.width/2,.1*this.scale.canvas.height,"Coins: "+this.gameManager.coinCount,{fontSize:"36px",color:"#f7f7f7",fontFamily:"Arial",fontStyle:"bold",align:"center",padding:{left:10,right:10,top:5,bottom:5}}).setDepth(8).setOrigin(.5)}update(){var t;null===(t=this.gameplayStack.top())||void 0===t||t.Update()}playAudio(){Bs.getInstance().playAudio(this,le),Bs.getInstance().playAudio(this,ee,!0,.1)}stopAudio(){Bs.getInstance().stopAudio(this,le),Bs.getInstance().stopAudio(this,ee)}gotoState(t){var e,s;this.gameplayStack.length()>1&&(null===(e=this.gameplayStack.top())||void 0===e||e.Exit(),this.gameplayStack.pop());const i=this.gameState.get(t);void 0!==i&&(this.gameplayStack.push(i),null===(s=this.gameplayStack.top())||void 0===s||s.Enter())}}class zs extends Phaser.Scene{create(){const t=localStorage.getItem("coins");this.textCoin=this.add.text(this.scale.canvas.width/2,.1*this.scale.canvas.height,"Coins: "+t,{fontSize:"36px",color:"#f7f7f7",fontFamily:"Arial",fontStyle:"bold",align:"center",padding:{left:10,right:10,top:5,bottom:5}}).setDepth(8).setOrigin(.5);const e=this.input.keyboard;e&&(this.cursors=e.createCursorKeys()),Bs.getInstance().playAudio(this,ie,!0),this.backgroundImage=this.add.image(this.scale.canvas.width/2,this.scale.canvas.height/2,p).setAlpha(.8),this.gameLogo=this.add.image(this.scale.canvas.width/2,this.scale.canvas.height/3.5,Q).setAlpha(.9),this.scaleBackground(),this.startButton=new xs(this,this.scale.canvas.width/2,this.scale.canvas.height/2,350,50,C,!1,(()=>{this.scene.start(o.GAMEPLAY),Bs.getInstance().stopAudio(this,ie)})).setDepth(8),this.shopButton=new xs(this,this.scale.canvas.width/2,this.scale.canvas.height/1.75,350,50,F,!1,(()=>{this.scene.launch(o.SHOP),this.scene.pause(o.MENU)})).setDepth(8)}update(){var t;(null===(t=this.cursors.space)||void 0===t?void 0:t.isDown)&&(this.scene.start(o.GAMEPLAY),Bs.getInstance().stopAudio(this,ie))}scaleBackground(){const t=this.scale.canvas.width/this.backgroundImage.width,e=this.scale.canvas.height/this.backgroundImage.height;this.backgroundImage.setScale(t,e)}}class Ys extends Phaser.Scene{create(){var t;this.escKey=null===(t=this.input.keyboard)||void 0===t?void 0:t.addKey(Phaser.Input.Keyboard.KeyCodes.ESC),this.graphics=this.add.graphics(),this.graphics.fillStyle(0).setAlpha(.75),this.graphics.fillRect(0,0,this.scale.canvas.width,this.scale.canvas.height),this.graphics.setVisible(!0),this.gameLogo=this.add.image(this.scale.canvas.width/2,this.scale.canvas.height/3.5,Q),this.quitButton=new xs(this,this.scale.canvas.width/2,this.scale.canvas.height/2,250,50,G,!1,(()=>{this.scene.stop(o.GAMEPLAY);const t=this.scene.get(o.GAMEPLAY);Bs.getInstance().stopAllAudio(t),this.scene.start(o.MENU)})).setDepth(8),this.backButton=new xs(this,this.scale.canvas.width/2*.15,this.scale.canvas.height/2*.1,200,50,P,!1,(()=>{this.scene.stop(o.GAMEPAUSE),this.scene.resume(o.GAMEPLAY)})).setDepth(8)}update(){var t;(null===(t=this.escKey)||void 0===t?void 0:t.isDown)&&(this.scene.stop(o.GAMEPAUSE),this.scene.resume(o.GAMEPLAY))}}class Vs extends Phaser.GameObjects.Container{constructor(t,e,s,i,a,n,h,r){super(t,e,s),this.onClickHandle=()=>{if(!this.isSelected&&this.isBought&&(this.scene.scene.get(o.SHOP).panels.forEach((t=>{t.isSelected=!1,t.setAlpha(.5),t.button.sprite.setAlpha(.5)})),this.isSelected=!0,localStorage.setItem("skin",this.playerKey),this.setAlpha(1),this.button.sprite.setAlpha(1),Bs.getInstance().playAudio(this.scene,pe,!1)),!this.isBought){const t=localStorage.getItem("coins");null!==t&&(parseInt(t)>=this.priceNum?(localStorage.setItem("coins",(parseInt(t)-this.priceNum).toString()),this.scene.scene.get(o.MENU).textCoin.setText((parseInt(t)-this.priceNum).toString()),this.isBought=!0,this.button.sprite.setTexture(D),Bs.getInstance().playAudio(this.scene,pe,!1)):Bs.getInstance().playAudio(this.scene,ge,!1))}this.updatePlayerData()},t.add.existing(this),this.priceNum=i,this.isBought=a,this.isSelected=n,this.panelKey=r,this.player=this.scene.add.image(0,-100,h).setScale(2),this.playerKey=h,this.price=this.scene.add.text(0,-200,i.toString(),{fontSize:"36px",color:"#f7f7f7",fontFamily:"Arial",fontStyle:"bold",align:"center",padding:{left:10,right:10,top:5,bottom:5}}).setOrigin(.5),this.isBought?this.button=new xs(this.scene,this.x,this.y,250,50,D,!1,this.onClickHandle):this.button=new xs(this.scene,this.x,this.y,250,50,v,!1,this.onClickHandle),this.isSelected||(this.button.sprite.setAlpha(.5),this.setAlpha(.5)),this.add(this.player),this.add(this.price)}updatePlayerData(){const t=localStorage.getItem("playerData");if(null!==t){const e=JSON.parse(t);Object.keys(e).forEach((t=>{e[t].isUsed=!1})),e[this.panelKey].isUnlocked=this.isBought,e[this.panelKey].isUsed=this.isSelected,localStorage.setItem("playerData",JSON.stringify(e))}}}class _s extends Phaser.Scene{constructor(){super(...arguments),this.panels=[]}create(){var t;this.escKey=null===(t=this.input.keyboard)||void 0===t?void 0:t.addKey(Phaser.Input.Keyboard.KeyCodes.ESC),this.graphics=this.add.graphics(),this.graphics.fillStyle(0).setAlpha(1),this.graphics.fillRect(0,0,this.scale.canvas.width,this.scale.canvas.height),this.graphics.setVisible(!0),this.backButton=new xs(this,this.scale.canvas.width/2*.15,this.scale.canvas.height/2*.1,200,50,P,!1,(()=>{this.scene.stop(o.SHOP),this.scene.resume(o.MENU)})).setDepth(8);const e=localStorage.getItem("playerData");let s={default:{key:nt,isUnlocked:!0,isUsed:!0,price:200},green:{key:Ot,isUnlocked:!1,isUsed:!1,price:200},pink:{key:Dt,isUnlocked:!1,isUsed:!1,price:200},red:{key:Ft,isUnlocked:!1,isUsed:!1,price:200},orange:{key:Ct,isUnlocked:!1,isUsed:!1,price:200},yellow:{key:Tt,isUnlocked:!1,isUsed:!1,price:200},perry:{key:Gt,isUnlocked:!1,isUsed:!1,price:200}};null!==e&&(s=JSON.parse(e));let i=0,a=0,n=0;Object.keys(s).forEach((t=>{const e=s[t];n>=4&&(a+=350,i=0,n=0),this.panels.push(new Vs(this,.8*this.scale.canvas.width-i,.4*this.scale.canvas.height+a,e.price,e.isUnlocked,e.isUsed,e.key,t)),n+=1,i+=300}))}update(){var t;(null===(t=this.escKey)||void 0===t?void 0:t.isDown)&&(this.scene.stop(o.SHOP),this.scene.resume(o.MENU))}}class Zs extends a().Game{constructor(t){super(t),window.addEventListener("resize",(()=>{this.resize()}))}resize(){}}window.addEventListener("load",(()=>{const t=new Zs(n);t.scene.add(o.BOOT,vs),t.scene.add(o.GAMEPLAY,Ns),t.scene.add(o.GAMEOVER,ks),t.scene.add(o.MENU,zs),t.scene.add(o.GAMEPAUSE,Ys),t.scene.add(o.SHOP,_s),t.scene.start(o.BOOT)}))}},s={};function i(t){var a=s[t];if(void 0!==a)return a.exports;var n=s[t]={exports:{}};return e[t].call(n.exports,n,n.exports,i),n.exports}i.m=e,t=[],i.O=(e,s,a,n)=>{if(!s){var o=1/0;for(c=0;c<t.length;c++){for(var[s,a,n]=t[c],h=!0,r=0;r<s.length;r++)(!1&n||o>=n)&&Object.keys(i.O).every((t=>i.O[t](s[r])))?s.splice(r--,1):(h=!1,n<o&&(o=n));if(h){t.splice(c--,1);var l=a();void 0!==l&&(e=l)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,a,n]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var a,n,[o,h,r]=s,l=0;if(o.some((e=>0!==t[e]))){for(a in h)i.o(h,a)&&(i.m[a]=h[a]);if(r)var c=r(i)}for(e&&e(s);l<o.length;l++)n=o[l],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(c)},s=self.webpackChunktype_project_template=self.webpackChunktype_project_template||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var a=i.O(void 0,[216],(()=>i(241)));a=i.O(a)})();