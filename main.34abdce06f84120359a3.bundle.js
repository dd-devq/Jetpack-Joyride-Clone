(()=>{"use strict";var t,e={395:(t,e,s)=>{var i=s(260),a=s.n(i);const n={isMute:!1,width:window.innerWidth,height:window.innerHeight},o={type:Phaser.AUTO,width:n.width,height:n.height,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},dom:{createContainer:!0},physics:{default:"arcade",arcade:{gravity:{y:700},debug:!0}},render:{pixelArt:!0,antialias:!1}};var h;!function(t){t.BOOT="GameBoot",t.MENU="MainMenu",t.GAMEPLAY="Gameplay",t.GAMEOVER="Gameover",t.GAMEPAUSE="GamePause"}(h||(h={}));const r="SunLogo",c="assets\\Logo.png",l="GameLogo",p="assets\\sprites\\Logo.png",d="Background",u="assets\\sprites\\BackdropMain.png",g="Bullet",m="assets\\sprites\\Bullet.png",y="BulletCollision",S="assets\\sprites\\BulletCollision.png",w="ButtonBack",v="assets\\sprites\\ButtonBack.png",A="ButtonBuy",P="assets\\sprites\\ButtonBuy.png",k="ButtonCreadits",B="assets\\sprites\\ButtonCredits.png",b="ButtonMusicOff",f="assets\\sprites\\ButtonMusicOff.png",x="ButtonMusicOn",E="assets\\sprites\\ButtonMusicOn.png",O="ButtonPlayAgain",M="assets\\sprites\\ButtonPlayAgain.png",G="ButtonPlayGame",C="assets\\sprites\\ButtonPlayGame.png",D="ButtonQuit",I="assets\\sprites\\ButtonQuit.png",F="ButtonSelect",K="assets\\sprites\\ButtonSelect.png",U="ButtonShop",j="assets\\sprites\\ButtonShop.png",L="ButtonShopDeadScreen",R="assets\\sprites\\ButtonShopDeathScreen.png",z="ButtonSoundOff",H="assets\\sprites\\ButtonSoundOff.png",T="ButtonSoundOn",Y="assets\\sprites\\ButtonSoundOn.png",W="Coin",Z="assets\\sprites\\Coin.png",V="FlyFire",_="assets\\sprites\\FlyFire.png",N="FlyFire2",J="assets\\sprites\\FlyFire2.png",q="icon",Q="assets\\sprites\\icon.png",X="logoGlow",$="assets\\sprites\\logoGlow.png",tt="LogoSmall",et="assets\\sprites\\LogoSmall.png",st="Menu",it="assets\\sprites\\Menu.png",at="PlayerDead",nt="assets\\sprites\\PlayerDead.png",ot="PlayerFly",ht="assets\\sprites\\PlayerFly.png",rt="Rocket",ct="assets\\sprites\\Rocket.png",lt="RocketWarning",pt="assets\\sprites\\RocketWarning.png",dt="SoundOff",ut="assets\\sprites\\SoundOff.png",gt="SoundOn",mt="assets\\sprites\\SoundOn.png",yt="SplashArt",St="assets\\sprites\\SplashArt.png",wt="Zapper1",vt="assets\\sprites\\Zapper1.png",At="Zapper2",Pt="assets\\sprites\\Zapper2.png",kt="Zapper3",Bt="assets\\sprites\\Zapper3.png",bt="Zapper4",ft="assets\\sprites\\Zapper4.png",xt="Ground",Et="assets\\sprites\\platform.png",Ot="Gameplay",Mt="assets\\sounds\\Gameplay.wav",Gt="MainMenu",Ct="assets\\sounds\\MainMenu.wav",Dt="Die",It="assets\\sounds\\DiedEletricity.wav",Ft="Fly",Kt="assets\\sounds\\Fly.wav",Ut="Fly",jt="assets\\sounds\\Launch.wav",Lt="Body",Rt="assets\\Characters\\Barry\\defaultBody.png",zt="Head",Ht="assets\\Characters\\Barry\\defaultHead.png",Tt="zapper";class Yt extends Phaser.Scene{preload(){this.load.image("splash","assets\\Splash\\loading_screen.png")}create(){console.log(!localStorage.getItem("coins")),localStorage.getItem("coins")||localStorage.setItem("coins","0");const t=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,"splash");t.setScale(this.cameras.main.width/t.width,this.cameras.main.height/t.height);const e=750,s=this.add.graphics(),i=this.add.graphics();i.fillStyle(0,1),i.fillRect((window.innerWidth-e)/2,(window.innerHeight-20)/1.15,e,20),this.load.on("progress",(t=>{s.clear(),s.fillStyle(16250871,1),s.fillRect((window.innerWidth-e)/2,(window.innerHeight-20)/1.15,e*t,20).setDepth(6)})),this.load.on("complete",(()=>{s.destroy(),i.destroy(),this.scene.start(h.MENU)})),this.loadAsset(),this.load.start()}loadAsset(){this.load.spritesheet(zt,Ht,{frameWidth:32,frameHeight:32}),this.load.spritesheet(Lt,Rt,{frameWidth:32,frameHeight:32}),this.load.image(r,c),this.load.image(l,p),this.load.image(d,u),this.load.image(g,m),this.load.image(y,S),this.load.image(w,v),this.load.image(A,P),this.load.image(k,B),this.load.image(b,f),this.load.image(x,E),this.load.image(O,M),this.load.image(G,C),this.load.image(D,I),this.load.image(F,K),this.load.image(U,j),this.load.image(L,R),this.load.image(z,H),this.load.image(T,Y),this.load.image(W,Z),this.load.image(V,_),this.load.image(N,J),this.load.image(q,Q),this.load.image(X,$),this.load.image(tt,et),this.load.image(st,it),this.load.image(at,nt),this.load.image(ot,ht),this.load.image(rt,ct),this.load.image(lt,pt),this.load.image(dt,ut),this.load.image(gt,mt),this.load.image(yt,St),this.load.image(wt,vt),this.load.image(At,Pt),this.load.image(kt,Bt),this.load.image(bt,ft),this.load.image(xt,Et),this.load.audio(Ut,jt),this.load.audio(Dt,It),this.load.audio(Ft,Kt),this.load.audio(Ot,Mt),this.load.audio(Gt,Ct)}}class Wt extends Phaser.GameObjects.Container{constructor(t,e,s,i,a,n,o,h){super(t,e,s),this.callback=h,this.isPointerDown=!1,this.isPointerOver=!1,o?this.text=this.scene.add.text(e,s,n).setOrigin(.5):this.sprite=this.scene.add.nineslice(e,s,n,void 0,i,a,10,10).setDisplaySize(i,a),this.background=this.scene.add.rectangle(e,s,i,a,0,0).setDisplaySize(i,a).setSize(i,a).setOrigin(.5),this.setInteractive(new Phaser.Geom.Rectangle(-i/2,-a/2,i,a),Phaser.Geom.Rectangle.Contains),this.on("pointerdown",this.onButtonDown,this),this.on("pointerup",this.onButtonUp,this),this.on("pointerover",this.onButtonOver,this),this.on("pointerout",this.onButtonOut,this),t.add.existing(this)}onButtonDown(){this.isPointerDown=!0}onButtonUp(){this.isPointerDown&&(this.isPointerDown=!1,this.callback())}onButtonOver(){this.isPointerOver=!0}onButtonOut(){this.isPointerOver=!1}}class Zt extends Phaser.Scene{init(t){const e=localStorage.getItem("coins");if(e){const s=parseInt(e)+t.coins;localStorage.setItem("coins",s.toString())}}create(){var t;this.spaceKey=null===(t=this.input.keyboard)||void 0===t?void 0:t.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.graphics=this.add.graphics(),this.graphics.fillStyle(0).setAlpha(.75),this.graphics.fillRect(0,0,this.cameras.main.width,this.cameras.main.height),this.graphics.setVisible(!0),this.gameLogo=this.add.image(this.cameras.main.width/2,this.cameras.main.height/3.5,X),this.quitButton=new Wt(this,this.cameras.main.width/2,this.cameras.main.height/2,250,50,D,!1,(()=>{this.scene.stop(h.GAMEPLAY),this.scene.start(h.MENU)}))}update(){var t;(null===(t=this.spaceKey)||void 0===t?void 0:t.isDown)&&this.scene.start(h.MENU)}}class Vt{constructor(){this.data=[]}push(t){this.data.push(t)}pop(){return this.data.pop()}top(){return this.data[this.data.length-1]}length(){return this.data.length}}class _t{constructor(t){this.parent=t}}class Nt extends _t{constructor(t){super(t)}Enter(){}Update(){var t;((null===(t=this.parent.spaceKey)||void 0===t?void 0:t.isDown)||this.parent.inputPointer.isDown)&&this.parent.gotoState("Fly")}Exit(){}}class Jt extends _t{constructor(t){super(t),this.jetpackBoost=-100,this.jetpackAcceleration=0,this.maxJetpackAcceleration=-500,this.jetpackAccelerationSpeed=-5}Enter(){this.jetpackAcceleration=0}Update(){var t;this.jetpackAcceleration+=this.jetpackAccelerationSpeed,(null===(t=this.parent.spaceKey)||void 0===t?void 0:t.isDown)||this.parent.inputPointer.isDown?this.boost():this.parent.gotoState("Fall")}boost(){this.jetpackAcceleration+=this.jetpackAccelerationSpeed,this.jetpackAcceleration<this.maxJetpackAcceleration&&(this.jetpackAcceleration=this.maxJetpackAcceleration),this.parent.setVelocityY(this.jetpackBoost+this.jetpackAcceleration)}Exit(){this.jetpackAcceleration=0}}class qt extends _t{constructor(t){super(t)}Enter(){}Update(){var t,e;((null===(t=this.parent.spaceKey)||void 0===t?void 0:t.isDown)||this.parent.inputPointer.isDown)&&this.parent.gotoState("Fly"),(null===(e=this.parent.body)||void 0===e?void 0:e.touching.down)&&this.parent.gotoState("Run")}Exit(){}}class Qt extends _t{constructor(t){super(t)}Enter(){this.parent.setAngle(90)}Update(){}Exit(){}}class Xt extends Phaser.Physics.Arcade.Sprite{constructor(t,e,s){var i;super(t,e,s,ot),this.playerStateStack=new Vt,this.playerState=new Map,this.initAsset(),this.initState(),this.scene.add.existing(this),this.scene.physics.world.enable(this),this.inputPointer=this.scene.input.activePointer;const{SPACE:a}=Phaser.Input.Keyboard.KeyCodes;this.spaceKey=null===(i=this.scene.input.keyboard)||void 0===i?void 0:i.addKey(a)}update(){var t;null===(t=this.playerStateStack.top())||void 0===t||t.Update(),this.x<.9*window.innerWidth/2&&this.entry()}initAsset(){}initState(){this.playerState.set("Run",new Nt(this)),this.playerState.set("Fly",new Jt(this)),this.playerState.set("Fall",new qt(this)),this.playerState.set("Dead",new Qt(this));const t=this.playerState.get("Run");void 0!==t&&this.playerStateStack.push(t)}gotoState(t){var e,s;this.playerStateStack.length()>1&&(null===(e=this.playerStateStack.top())||void 0===e||e.Exit(),this.playerStateStack.pop());const i=this.playerState.get(t);void 0!==i&&(this.playerStateStack.push(i),null===(s=this.playerStateStack.top())||void 0===s||s.Enter())}entry(){this.x+=2.5}}class $t extends Phaser.Physics.Arcade.StaticGroup{constructor(t){super(t.physics.world,t,{classType:te,maxSize:50}),this.moveSpeed=1.65,this.maxHeight=100,this.minHeight=650}spawnBunch(){Phaser.Math.Between(2e3,2800),Phaser.Math.Between(this.maxHeight,this.minHeight)}spawn(t,e){const s=this.get(t,e);s.setActive(!0).setVisible(!0).setDepth(5).setScale(2),null!==s.body&&(s.body.enable=!0,s.body.x=t,s.body.y=e,s.body.setSize(2*s.width,2*s.height))}despawn(t){null!==t.body&&(t.body.enable=!1),this.killAndHide(t)}update(){this.getChildren().forEach((t=>{const e=t;e.x-=this.moveSpeed,null!==e.body&&(e.body.x-=this.moveSpeed),e.x<0&&this.despawn(e)}))}}class te extends Phaser.Physics.Arcade.Sprite{constructor(t,e,s){super(t,e,s,W),this.setOrigin(0,0),this.setScrollFactor(0)}}class ee extends Phaser.Physics.Arcade.StaticGroup{constructor(t){super(t.physics.world,t,{classType:se,maxSize:5}),this.moveSpeed=1.65}spawn(){const t=Phaser.Math.Between(1500,1700),e=Phaser.Math.Between(300,400),s=this.get(t,e);s.setActive(!0).setVisible(!0).setDepth(7),null!==s.body&&(s.body.enable=!0,s.body.x=t,s.body.y=e,s.setSize(s.width,s.height))}despawn(t){null!==t.body&&(t.body.enable=!1),this.killAndHide(t)}update(){this.getChildren().forEach((t=>{const e=t;e.x-=this.moveSpeed,null!==e.body&&(e.body.x-=this.moveSpeed),e.x<0&&this.despawn(e)}))}}class se extends Phaser.Physics.Arcade.Sprite{constructor(t,e,s){super(t,e,s,wt),this.setOrigin(0),this.setScrollFactor(0),this.scene.anims.exists(Tt)||t.anims.create({key:Tt,frames:[{key:wt},{key:At},{key:kt},{key:bt}],frameRate:10,repeat:-1}),this.anims.play(Tt)}}class ie{constructor(t){this.coinCount=0,this.isGameOver=!1,this.scene=t,this.initBackground(),this.initCoinPool(),this.initZapperPool(),this.initPlayer(),this.scaleGameObejcts(),this.initPhysic()}initPhysic(){this.scene.physics.add.collider(this.player,this.platforms),this.scene.physics.add.overlap(this.player,this.coinPool,this.collectCoin,void 0,this),this.scene.physics.add.overlap(this.player,this.zapperPool,this.gameOver,void 0,this)}gameOver(){this.isGameOver||(this.player.gotoState("Dead"),this.scene.gotoState("GameOver"),this.isGameOver=!0)}collectCoin(t,e){const s=e;this.coinPool.killAndHide(s),s.destroy(),this.coinCount+=1,this.scene.textCoin.setText("Coins: "+this.coinCount)}update(){this.isGameOver||(this.backgroundSprite.tilePositionX+=.75,this.coinPool.update(),this.zapperPool.update(),this.player.update())}initCoinPool(){this.coinPool=new $t(this.scene),this.scene.time.addEvent({delay:2e3,loop:!0,callback:()=>this.coinPool.spawn(1e3,100)})}initZapperPool(){this.zapperPool=new ee(this.scene),this.scene.time.addEvent({delay:5e3,loop:!0,callback:()=>this.zapperPool.spawn()})}initBackground(){const{width:t,height:e}=this.scene.scale;this.backgroundSprite=this.scene.add.tileSprite(0,0,t,e,d).setOrigin(0).setDepth(4),this.platforms=this.scene.physics.add.staticGroup(),this.platforms.create(window.innerWidth/2,.9*window.innerHeight,xt).setScale(5,1).refreshBody(),this.platforms.create(window.innerWidth/2,.1*window.innerHeight,xt).setScale(5,1).refreshBody()}initPlayer(){this.player=new Xt(this.scene,100,300).setDepth(10),this.player.platforms=this.platforms}scaleGameObejcts(){const t=this.scene.textures.get(d).get(0),e=this.scene.cameras.main.width/t.width,s=this.scene.cameras.main.height/t.height;this.backgroundSprite.setTileScale(e,s)}}class ae{constructor(){this.nowPlaying=[]}playAudio(t,e,s=!1){t.sound.add(e,{loop:s}),t.sound.play(e),this.nowPlaying.push(e)}stopAudio(t,e){t.sound.getAllPlaying().forEach((t=>{t.key===e&&t.stop()}))}muteAudio(t){t.game.sound.mute=!0}unmuteAudio(t){t.game.sound.mute=!1}static getInstance(){return ae.instance||(ae.instance=new ae),ae.instance}}class ne{constructor(t){this.parent=t}}class oe extends ne{constructor(t){super(t)}Enter(){}Update(){var t;(null===(t=this.parent.escKey)||void 0===t?void 0:t.isDown)&&(this.parent.scene.pause(h.GAMEPLAY),this.parent.gotoState("GamePause")),this.parent.gameManager.update()}Exit(){}}class he extends ne{constructor(t){super(t)}Enter(){this.parent.stopAudio(),setTimeout((()=>{this.parent.scene.pause(h.GAMEPLAY)}),2e3),this.parent.scene.launch(h.GAMEOVER,{coins:this.parent.gameManager.coinCount})}Update(){}Exit(){}}class re extends ne{constructor(t){super(t)}Enter(){this.parent.scene.launch(h.GAMEPAUSE)}Update(){this.parent.gotoState(h.GAMEPLAY)}Exit(){}}class ce extends Phaser.Scene{constructor(){super(...arguments),this.gameplayStack=new Vt,this.gameState=new Map}init(t){this.gameState.set("Gameplay",new oe(this)),this.gameState.set("GamePause",new re(this)),this.gameState.set("GameOver",new he(this));const e=this.gameState.get("Gameplay");void 0!==e&&this.gameplayStack.push(e)}create(){var t;this.playAudio();const{ESC:e}=Phaser.Input.Keyboard.KeyCodes;this.escKey=null===(t=this.input.keyboard)||void 0===t?void 0:t.addKey(e),this.gameManager=new ie(this),this.textCoin=this.add.text(1250,50,"Coins: "+this.gameManager.coinCount,{fontSize:"36px",color:"#0",fontFamily:"Arial",fontStyle:"bold",align:"center",padding:{left:10,right:10,top:5,bottom:5}}).setDepth(6)}update(){var t;null===(t=this.gameplayStack.top())||void 0===t||t.Update()}playAudio(){n.isMute||(ae.getInstance().playAudio(this,Ut),ae.getInstance().playAudio(this,Ot,!0))}stopAudio(){n.isMute||(ae.getInstance().stopAudio(this,Ut),ae.getInstance().stopAudio(this,Ot))}gotoState(t){var e,s;this.gameplayStack.length()>1&&(null===(e=this.gameplayStack.top())||void 0===e||e.Exit(),this.gameplayStack.pop());const i=this.gameState.get(t);void 0!==i&&(this.gameplayStack.push(i),null===(s=this.gameplayStack.top())||void 0===s||s.Enter())}}class le extends Phaser.Scene{create(){const t=localStorage.getItem("coins");this.textCoin=this.add.text(1250,50,"Coins: "+t,{fontSize:"36px",color:"#0",fontFamily:"Arial",fontStyle:"bold",align:"center",padding:{left:10,right:10,top:5,bottom:5}}).setDepth(6);const e=this.input.keyboard;e&&(this.cursors=e.createCursorKeys()),n.isMute||ae.getInstance().playAudio(this,Gt,!0),this.backgroundImage=this.add.image(this.cameras.main.width/2,this.cameras.main.height/2,d).setAlpha(.8),this.gameLogo=this.add.image(this.cameras.main.width/2,this.cameras.main.height/3.5,X).setAlpha(.9),this.scaleBackground(),this.startButton=new Wt(this,this.cameras.main.width/2,this.cameras.main.height/2,350,50,G,!1,(()=>{this.scene.start(h.GAMEPLAY),ae.getInstance().stopAudio(this,Gt)})).setDepth(6),this.shopButton=new Wt(this,this.cameras.main.width/2,this.cameras.main.height/1.75,350,50,U,!1,(()=>{})).setDepth(6)}update(){var t;(null===(t=this.cursors.space)||void 0===t?void 0:t.isDown)&&(this.scene.start(h.GAMEPLAY),ae.getInstance().stopAudio(this,Gt))}scaleBackground(){const t=this.cameras.main.width/this.backgroundImage.width,e=this.cameras.main.height/this.backgroundImage.height;this.backgroundImage.setScale(t,e)}}class pe extends Phaser.Scene{create(){var t;this.escKey=null===(t=this.input.keyboard)||void 0===t?void 0:t.addKey(Phaser.Input.Keyboard.KeyCodes.ESC),this.graphics=this.add.graphics(),this.graphics.fillStyle(0).setAlpha(.75),this.graphics.fillRect(0,0,this.cameras.main.width,this.cameras.main.height),this.graphics.setVisible(!0),this.gameLogo=this.add.image(this.cameras.main.width/2,this.cameras.main.height/3.5,X),this.quitButton=new Wt(this,this.cameras.main.width/2,this.cameras.main.height/2,250,50,D,!1,(()=>{this.scene.start(h.MENU)})).setDepth(6),this.backButton=new Wt(this,this.cameras.main.width/2*.15,this.cameras.main.height/2*.1,200,50,w,!1,(()=>{this.scene.stop(h.GAMEPAUSE),this.scene.resume(h.GAMEPLAY)})).setDepth(6)}update(){var t;(null===(t=this.escKey)||void 0===t?void 0:t.isDown)&&(this.scene.stop(h.GAMEPAUSE),this.scene.resume(h.GAMEPLAY))}}class de extends a().Game{constructor(t){super(t),window.addEventListener("resize",(()=>{this.resize()}))}resize(){}}window.addEventListener("load",(()=>{const t=new de(o);t.scene.add(h.BOOT,Yt),t.scene.add(h.GAMEPLAY,ce),t.scene.add(h.GAMEOVER,Zt),t.scene.add(h.MENU,le),t.scene.add(h.GAMEPAUSE,pe),t.scene.start(h.BOOT)}))}},s={};function i(t){var a=s[t];if(void 0!==a)return a.exports;var n=s[t]={exports:{}};return e[t].call(n.exports,n,n.exports,i),n.exports}i.m=e,t=[],i.O=(e,s,a,n)=>{if(!s){var o=1/0;for(l=0;l<t.length;l++){for(var[s,a,n]=t[l],h=!0,r=0;r<s.length;r++)(!1&n||o>=n)&&Object.keys(i.O).every((t=>i.O[t](s[r])))?s.splice(r--,1):(h=!1,n<o&&(o=n));if(h){t.splice(l--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[s,a,n]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};i.O.j=e=>0===t[e];var e=(e,s)=>{var a,n,[o,h,r]=s,c=0;if(o.some((e=>0!==t[e]))){for(a in h)i.o(h,a)&&(i.m[a]=h[a]);if(r)var l=r(i)}for(e&&e(s);c<o.length;c++)n=o[c],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(l)},s=self.webpackChunktype_project_template=self.webpackChunktype_project_template||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var a=i.O(void 0,[216],(()=>i(395)));a=i.O(a)})();